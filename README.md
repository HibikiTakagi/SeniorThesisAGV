# 学部卒業論文
卒業研究のコードを共同編集・引継ぎができるようアップしました。(2024/12/17　高木)  
実際に動かしてみたい場合は、[スタートガイド](#スタートガイド)を参照してください。

## 問題設定
- 6×6の無向グラフ(グリッド)上を3機のAGVが移動する。
- 各AGVはタスクを次々と処理しながらグラフ上を動く。
- 互いの衝突は無視する。
- 各タスクには荷物を受け取るpicking_nodeと、配達先のdelivery_nodeが設定されている。
- タスクは全部で27個事前に用意されている。
- picking_nodeに重複は無い。
- タスクは3個単位(パック単位)でAGVに割当てる。
- AGVは与えられた3つのタスクを、最短時間となる順に逐次処理する。
- 1パックが完了すると、次のパックの割当てが可能となる。
- 強化学習を用いたアプローチで、メイクスパン(最終完了時間)の最小化をめざす。

## 詰まっている点
- 強化学習の枠組みに落とし込むこと  
何を状態、行動として設定するか。(MDPを満たす必要がある。)
- 実装問題

## 案
- タスクパックの作成部分と、割当て部分(ジョブショップ問題の部分)を分割して考える。

## その他メモ
- 比較手法
- スケール
- 厳密な計算量

## スタートガイド
まずはGitHubにアクセスするためのSSHキーが正しく設定されているか確認してください。
その後、以下の手順に従って環境を構築・実行してみてください。

- ローカルにクローン
```
> git clone git@github.com:HibikiTakagi/SeniorThesisAGV.git
```
- Dockerを利用するために移動
```
> cd ./SeniorThesisAGV/docker_setup
```
- Dockerイメージの作成と確認  
※警告が出るがイメージは作成されるケースや、タイムアウトになるが再実行で成功するケース等を確認しています。

```
> docker build -f ./Dockerfile -t <name>_agv .
> docker images | grep <name>
```
- Dockerコンテナの作成と確認  
start_docker_container.shの中身を適宜書き変えてください。  
またスクリプトファイルの実行時に権限エラーが出る場合は、適宜権限を付与してください。  
(以下は例)
```
> chmod +x start_docker_container.sh
```
そしてコンテナを作成します。
```
> ./start_docker_container.sh
> docker ps | grep <name>
```
- コンテナへ入る  
スクリプトファイルの編集・権限の付与をして実行してください。  
(VSCodeを利用している場合は、拡張機能でコンテナ内へ入れるそうです。)
```
> ./enter_docker_container.sh
```
- コンテナ内で不足ファイルの取得  
エラーの確認・解消等ございましたらご報告ください。
```
# ./initial.sh
```
- Python(Numpy)の確認
```
# python3.10 numpy_test.py
[1 2 3]
```

## 参考
https://link.springer.com/article/10.1007/s10845-023-02252-8